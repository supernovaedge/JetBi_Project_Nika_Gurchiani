<template>
    <lightning-card icon-name="action:upload" title="Upload your file and create records" class="slds-var-m-around_x-large">
       <lightning-file-upload
          label="Attach CSV file"
          name="fileUploader"
          accept=".csv"
          onuploadfinished={handleUploadFinished}
          multiple></lightning-file-upload>
    </lightning-card>
    <lightning-card icon-name="standard:steps" title="Sensors" class="slds-var-m-around_x-large" variant="Narrow">
        <lightning-button icon-name="utility:download" label="Download CSV" onclick={downloadCSV} slot="actions"></lightning-button>
        <div style="height: 450px;">
          <lightning-datatable
             show-row-number-column
             hide-checkbox-column
             key-field="id"
             data={recordsPerPage}
             columns={columns}
             onrowaction={handleRowAction}>
          </lightning-datatable>
          <lightning-select name="Record Number" label="Record Number" value={value} options={options} onchange={handleChange} class="slds-float_left"></lightning-select>
       </div>
       <div class="slds-align_absolute-center" style="height:4rem">
          <lightning-button variant="base" disabled={disableFirst} icon-name="utility:jump_to_left" label="" onclick={firstPage}></lightning-button>
          <lightning-button variant="base" disabled={disableFirst} icon-name="utility:chevronleft" label="" onclick={previousPage}></lightning-button>
          &nbsp;
          <span class="slds-badge">Page {pageNumber} of {totalPages}</span>
          &nbsp;
          <lightning-button variant="base" disabled={disableLast} icon-name="utility:chevronright" label="" onclick={nextPage} ></lightning-button>
          <lightning-button variant="base" disabled={disableLast} icon-name="utility:jump_to_right" label="" onclick={lastPage} ></lightning-button>
       </div>
    </lightning-card>
 </template>